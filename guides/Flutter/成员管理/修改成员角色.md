不同的角色拥有不同的操作权限，您可以通过修改成员角色，给该成员赋予或者取消相应的操作权限，例如开启视频、屏幕共享等权限。本文介绍如何通过 NERoom SDK 修改成员角色。

## 注意事项

您可以在云信控制台上配置某角色是否具备修改成员角色的权限，只有具备该权限的角色才可以执行此操作。

## 配置步骤

1. 调用 `joinRoom` 方法加入房间。

2. 调用 `getRoomContext` 方法获取房间上下文。

    调用此方法时，您需要将 `roomUid` 设置为您所加入房间的 ID。

3. 调用如下接口修改成员角色。

    ```dart
    Future<VoidResult> changeMemberRole(String userUuid, String role);
    ```

    名称 | 描述 |
    ---- | ---- |
    userUuid | 待修改用户的 ID。 |
    role | 修改后的角色 ID，角色 ID 的查看方法请参见 [如何获取角色 ID](https://doc.yunxin.163.com/neroom/concept/DQzNTEwMDE?platform=client#获取角色-id)。 |

    ::: note note
    - 如果传入的角色内容为空，表示保持原有角色，不修改。
    - 如果传入的角色不存在，会返回 **1003** 错误。
    :::

4. （可选）调用 `NERoomContext` 的 `handOverMyRole` 方法，移交成员的角色。相关参数说明如下。

    名称 | 描述 |
    ---- | ---- |
    userUuid | 目标用户的 ID |

5. 当房间内有成员角色变更时，会触发 `NERoomEventCallback` 协议中的 `memberRoleChanged` 回调方法，通知房间内所有成员。

## 示例代码

实现修改成员角色功能的示例代码如下：

```dart
NERoomService roomService = NERoomKit.instance.roomService;
NERoomContext? roomContext = roomService.getRoomContext(roomUuid);
String userUuid="targetUserUuid";
String role="roleName";
roomContext?.changeMemberRole(userUuid,role).then((result){
  if(result.isSuccess()){
    debugPrint('changeMemberRole success');
  }else{
    debugPrint('changeMemberRole error code:${result.code},msg:${result.msg}');
  }
});
```

## API 参考

| 方法 | 功能描述 |
|:--|:--|
| [`joinRoom`](https://pub.dev/documentation/netease_roomkit/latest/netease_roomkit/NERoomService/joinRoom.html) | 加入房间 | 
| [`getRoomContext`](https://pub.dev/documentation/netease_roomkit/latest/netease_roomkit/NERoomService/getRoomContext.html) | 根据 roomUuid 获取 RoomContext 实例 | 
| [`changeMemberRole`](https://pub.dev/documentation/netease_roomkit/latest/netease_roomkit/NERoomContext/changeMemberRole.html) | 修改成员角色 |
| [`handOverMyRole`](https://pub.dev/documentation/netease_roomkit/latest/netease_roomkit/NERoomContext/handOverMyRole.html) | 移交成员角色 |