您可以通过 NERoom 的互动白板，实现互动涂鸦、实时同步、文档共享等功能，满足在线教育、互动娱乐、金融面签、视频会议等低延时高互动场景的需求。

## 功能介绍

互动白板的应用场景包括：

- 在线教育：用于线上语言培训、K12 学科辅导等课堂教学场景，教师可借助涂鸦、文本、直线、激光笔等基础教具，边演示课件边勾画要点。
- 视频会议：用于视频会议、在线培训等企业协同场景，满足主讲实时演示讲解、多方协同交流的需求。
- 互动娱乐：用于你画我猜、互动涂鸦等娱乐场景，满足更多有趣的游戏互动玩法。
- 金融面签：用于视频面签、远程见证等金融场景，满足面签双方远程办理业务、进行签名确认的需求。

## 前提条件

创建房间时，已在 `NECreateRoomOptions` 方法中，设置 `enableWhiteboard` 参数为 `true`，具体操作方法请参见 [创建房间](https://doc.yunxin.163.com/neroom/guide/Dc2Mzk5MjE?platform=flutter)。

## 配置步骤

1. 开始共享白板。

    ```dart
    Future<VoidResult> startWhiteboardShare();
    ```

2. 创建白板视图。

    ```dart
    Widget createWhiteboardView();
    ```

3. 设置是否显示白板工具栏，白板是否可绘制。

    ```dart
    Future<NEResult<void>> showWhiteboardTools(bool show);
    ```

    show 的参数说明如下：

    - true：允许绘制，显示工具栏
    - false：不允许绘制，不显示工具栏

4. 停止共享白板。

    ```dart
    Future<VoidResult> stopWhiteboardShare();
    ```

5. 关闭某成员的白板共享。

    ```dart
    Future<VoidResult> stopMemberWhiteboardShare(String userUuid);
    ```

## 示例代码

1. 实现共享白板功能的示例代码如下：

  ```dart
  NERoomService roomService = NERoomKit.instance.roomService;
    NERoomContext? roomContext = roomService.getRoomContext(roomUuid);
    roomContext?.whiteboardController.startWhiteboardShare().then((result){
      if(result.isSuccess()){
        debugPrint('startWhiteboardShare success');
      }else{
        debugPrint('startWhiteboardShare error code:${result.code},msg:${result.msg}');
      }
    });    
  ```

2. 实现设置白板是否可绘制功能的示例代码如下：

  ```dart
  NERoomService roomService = NERoomKit.instance.roomService;
  NERoomContext? roomContext = roomService.getRoomContext(roomUuid);
  roomContext?.whiteboardController.showWhiteboardTools(true).then((result){
    if(result.isSuccess()){
      debugPrint('showWhiteboardTools success');
    }else{
      debugPrint('showWhiteboardTools error code:${result.code},msg:${result.msg}');
    }
  });
  ```

3. 实现停止共享白板功能的示例代码如下：

  ```dart
  NERoomService roomService = NERoomKit.instance.roomService;
    NERoomContext? roomContext = roomService.getRoomContext(roomUuid);
    roomContext?.whiteboardController.stopWhiteboardShare().then((result){
      if(result.isSuccess()){
        debugPrint('stopWhiteboardShare success');
      }else{
        debugPrint('stopWhiteboardShare error code:${result.code},msg:${result.msg}');
      }
    });      
  ```

4. 实现关闭某成员的白板共享的示例代码如下：

  ```dart
  String targetUuid = 'targetUuid';
  NERoomService roomService = NERoomKit.instance.roomService;
  NERoomContext? roomContext = roomService.getRoomContext(roomUuid);
  roomContext?.whiteboardController.stopMemberWhiteboardShare(targetUuid).then((result){
    if(result.isSuccess()){
      debugPrint('stopMemberWhiteboardShare success');
    }else{
      debugPrint('stopMemberWhiteboardShare error code:${result.code},msg:${result.msg}');
    }
  });    
  ```

5. 实现监听白板状态变更功能的示例代码如下：

  ```dart
  NERoomService roomService = NERoomKit.instance.roomService;
  NERoomContext? roomContext = roomService.getRoomContext(roomUuid);
  roomContext?.addEventCallback(NERoomEventCallback(
    memberWhiteboardShareStateChanged: (member,isSharing,operator){
      if (isSharing){
        debugPrint("${member.uuid} is sharing whiteboard");
      }else{
        debugPrint("${member.uuid} stop sharing whiteboard");
      }
    }
  ));
  ```

## 相关 API 文档

| 方法 | 功能描述 |
|:--|:--|
| [`startWhiteboardShare`](https://pub.dev/documentation/netease_roomkit/latest/netease_roomkit/NERoomWhiteboardController/startWhiteboardShare.html) | 开始共享白板。|
| [`stopWhiteboardShare`](https://pub.dev/documentation/netease_roomkit/latest/netease_roomkit/NERoomWhiteboardController/stopWhiteboardShare.html) | 停止共享白板。|
| [`memberWhiteboardShareStateChanged`](https://pub.dev/documentation/netease_roomkit/latest/netease_roomkit/NERoomEventCallback/memberWhiteboardShareStateChanged.html) | 白板共享状态变更回调。|
| [`stopMemberWhiteboardShare`](https://pub.dev/documentation/netease_roomkit/latest/netease_roomkit/NERoomWhiteboardController/stopMemberWhiteboardShare.html) | 关闭某成员的白板共享。|