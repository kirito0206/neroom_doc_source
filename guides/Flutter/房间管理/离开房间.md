本文介绍通过 NERoom SDK 实现离开房间功能的方法。

## 配置步骤

1. 调用 `getRoomContext` 接口获取房间上下文。
    
    调用此方法时，您需要将 `roomUuid` 设置为您所加入房间的 ID。

2. 调用 `leaveRoom` 接口离开房间。

    ```dart
    Future<VoidResult> leaveRoom();
    ```

3. 成员离开房间成功后，会触发 `NERoomEventCallback` 协议中的 `memberLeaveRoom` 回调方法，通知房间内所有成员。

## 示例代码

实现离开房间功能的示例代码如下：

```dart
NERoomService roomService = NERoomKit.instance.roomService;
NERoomContext? roomContext = roomService.getRoomContext(roomUuid);
roomContext?.leaveRoom().then((result){
  if(result.isSuccess()){
    debugPrint('leaveRoom success');
  }else{
    debugPrint('leaveRoom error code:${result.code},msg:${result.msg}');
  }
});
```

实现监听成员离开房间功能的示例代码如下：

```dart
NERoomService roomService = NERoomKit.instance.roomService;
NERoomContext? roomContext = roomService.getRoomContext(roomUuid);
roomContext?.addEventCallback(NERoomEventCallback(
  memberLeaveRoom: (List<NERoomMember> members){
    for (var member in members) {
      debugPrint('leave Room member:${member.toString()}');
    }
  }
));
```

## API 参考

| 方法 | 功能描述 |
|:--|:--|
| [`leaveRoom`](https://pub.dev/documentation/netease_roomkit/latest/netease_roomkit/NERoomContext/leaveRoom.html) | 离开房间 |