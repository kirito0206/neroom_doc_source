本文介绍通过 NERoom SDK 实现离开房间功能的方法。

## 配置步骤

1. 调用 `leaveRoom` 接口，离开房间。

    ```swift
    fun leaveRoom(callback: NECallback?)
    ```

2. 成员离开房间成功后，会触发 `NERoomListener` 协议中的回调方法，通知房间内所有成员。

    ```
    func onMembersLeaveRoom(members: [NERoomMember])
    ```

## 示例代码

实现离开房间功能的示例代码如下：

```swift
let roomContext = NERoomkit.shared().roomService.getRoomContext(roomUuid: "房间ID")

guard let roomContext = roomContext else {
    return
}

roomContext.leaveRoom { code, string in 
    if code == 0 {
        print("Successfully leave room")
    } else {
        print("Failed to leave room. Rease: \(string ?? "")")
    }
}
```

实现监听成员离开房间功能的示例代码如下：

```swift
class RoomController: UIViewController, NERoomListener {
    func viewDidLoad() {
        guard let roomContext = NERoomKit.shared().roomService.getRoomContext(roomUuid: "房间ID") else {
            return
        }
        roomContext.addListener(listener: roomController)
    }

    // 当前有成员离开时，会触发此方法
    func onMembersLeaveRoom(members: [NERoomMember]){}
}
```

## API 参考

| 方法 | 功能描述 |
|:--|:--|
| [`leaveRoom`](https://doc.yunxin.163.com/neroom/references/iOS/jazzy/Latest/zh/html/Classes/NERoomContext.html#/c:@M@NERoomKit@objc(cs)NERoomContext(im)leaveRoomWithCallback:) | 离开房间 |
