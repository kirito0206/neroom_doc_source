本文介绍如何通过 NERoom SDK 静音或取消静音。

## 功能介绍

NERoom SDK 支持通过 [`muteMyAudio`](https://doc.yunxin.163.com/neroom/api-docs/neroom_iOS_zh/NERoom_iOS_API_Reference/classes/NERoomRtcController.md#mutemyaudio_) 和 [`unmuteMyAudio`](https://doc.yunxin.163.com/neroom/api-docs/neroom_iOS_zh/NERoom_iOS_API_Reference/classes/NERoomRtcController.md#unmutemyaudio_) 开启或关闭本地音频流的采集与上行。

## 注意事项

您需要先调用 [`joinRoom`](https://doc.yunxin.163.com/neroom/api-docs/neroom_iOS_zh/NERoom_iOS_API_Reference/classes/NERoomService.md#joinroomparamsoptionscallback) 方法加入 NERoom 的房间。

## 打开本地音频

### 配置步骤

1. 调用 [`getRoomContext`](https://doc.yunxin.163.com/neroom/api-docs/neroom_iOS_zh/NERoom_iOS_API_Reference/classes/NERoomService#getroomcontextroomuuid) 方法获取房间上下文。调用此方法时，您需要将 `roomUid` 设置为您所加入房间的 ID。
2. 调用 [`unmuteMyAudio`](https://doc.yunxin.163.com/neroom/api-docs/neroom_iOS_zh/NERoom_iOS_API_Reference/classes/NERoomRtcController.md#unmutemyaudio_) 方法开启本地音频采集。

### 示例代码

```swift
    let roomContext = NERoomKit.shared().roomService.getRoomContext(roomUuid: "房间ID")

    guard let roomContext = roomContext else {
        return
    }
    roomContext.rtcController.unmuteMyAudio { code, string in
        if code == 0 {
            print("Successfully unmute my audio.")
        } else {
            print("Failed to unmute my audio. Reason: \(string ?? "")")
        } 
    }
```

## 关闭本地音频

### 配置步骤

1. 调用 [`getRoomContext`](https://doc.yunxin.163.com/neroom/api-docs/neroom_iOS_zh/NERoom_iOS_API_Reference/classes/NERoomService#getroomcontextroomuuid) 方法获取房间上下文。调用此方法时，您需要将 `roomUid` 设置为您所加入房间的 ID。
2. 调用 [`muteMyAudio`](https://doc.yunxin.163.com/neroom/api-docs/neroom_iOS_zh/NERoom_iOS_API_Reference/classes/NERoomRtcController.md#mutemyaudio_) 方法关闭本地音频采集。

### 示例代码

```swift
    let roomContext = NERoomKit.shared().roomService.getRoomContext(roomUuid: "房间ID")

    guard let roomContext = roomContext else {
        return
    }
    roomContext.rtcController.muteMyAudio { code, string in
        if code == 0 {
            print("Successfully mute my audio.")
        } else {
            print("Failed to mute my audio. Reason: \(string ?? "")")
        } 
    }
```

## 静音房间其他成员

### 注意事项

您可以在云信控制台上配置某角色是否具备静音房间其他成员的权限，只有具备该权限的角色才可以执行此操作。

### 配置步骤

1. 加入房间后，调用 [`getRoomContext`](https://doc.yunxin.163.com/neroom/api-docs/neroom_iOS_zh/NERoom_iOS_API_Reference/classes/NERoomService#getroomcontextroomuuid) 方法获取房间上下文。

    调用此方法时，您需要将 roomUid 设置为您所加入房间的 ID。
2. 调用 [`muteMemberAudio`](https://doc.yunxin.163.com/neroom/api-docs/neroom_iOS_zh/NERoom_iOS_API_Reference/classes/NERoomRtcController.md#mutememberaudiouseruuidcallback) 方法，静音房间中的某个成员。
    ::: note notice
    一次只能传入一个成员的 uuid。
    :::

### 示例代码

```swift
    let roomContext = NERoomKit.shared().roomService.getRoomContext(roomUuid: "xxxx")
    guard let roomContext = roomContext else { return }
    roomContext.rtcController.muteMemberAudio(userUuid: "xxx") { code, str in
        if code == 0 {
            print("静音成员成功")
        } else {
            print("静音成员失败")
        }
    }
```

## 取消静音房间其他成员

### 注意事项

您可以在云信控制台上配置某角色是否具备取消静音房间其他成员的权限，只有具备该权限的角色才可以执行此操作。

### 配置步骤

1. 加入房间后，调用 [`getRoomContext`](https://doc.yunxin.163.com/neroom/api-docs/neroom_iOS_zh/NERoom_iOS_API_Reference/classes/NERoomService#getroomcontextroomuuid) 方法获取房间上下文。

    调用此方法时，您需要将 roomUid 设置为您所加入房间的 ID。

2. 调用 [`unmuteMemberAudio`](https://doc.yunxin.163.com/neroom/api-docs/neroom_iOS_zh/NERoom_iOS_API_Reference/classes/NERoomRtcController.md#unmutememberaudiouseruuidcallback) 方法，取消静音房间中的某个成员。
    ::: note note
    一次只能传入一个成员的 uuid。
    :::

### 示例代码
```
    let roomContext = NERoomKit.shared().roomService.getRoomContext(roomUuid: "xxxx")
    guard let roomContext = roomContext else { return }
    roomContext.rtcController.unmuteMemberAudio(userUuid: "xxx") { code, str in
        if code == 0 {
            print("取消静音成功")
        } else {
            print("静音成员失败")
        }
    }
```

## API 参考

| **方法** | **功能描述** |
|:--|:--|
|[`joinRoom`](https://doc.yunxin.163.com/neroom/api-docs/neroom_iOS_zh/NERoom_iOS_API_Reference/classes/NERoomService.md#joinroomparamsoptionscallback)|加入 NERoom 的房间。|
|[`getRoomContext`](https://doc.yunxin.163.com/neroom/api-docs/neroom_iOS_zh/NERoom_iOS_API_Reference/classes/NERoomService#getroomcontextroomuuid)|获取房间上下文。|
|[`unmuteMyAudio`](https://doc.yunxin.163.com/neroom/api-docs/neroom_iOS_zh/NERoom_iOS_API_Reference/classes/NERoomRtcController.md#unmutemyaudio_)|开启本地音频采集。|
|[`muteMyAudio`](https://doc.yunxin.163.com/neroom/api-docs/neroom_iOS_zh/NERoom_iOS_API_Reference/classes/NERoomRtcController.md#mutemyaudio_)|关闭本地音频采集。|
|[`muteMemberAudio`](https://doc.yunxin.163.com/neroom/api-docs/neroom_iOS_zh/NERoom_iOS_API_Reference/classes/NERoomRtcController.md#mutememberaudiouseruuidcallback) |静音房间中的某个成员。|
|[`unmuteMemberAudio`](https://doc.yunxin.163.com/neroom/api-docs/neroom_iOS_zh/NERoom_iOS_API_Reference/classes/NERoomRtcController.md#unmutememberaudiouseruuidcallback) |取消静音房间中的某个成员。|

