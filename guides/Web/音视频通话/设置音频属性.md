<!--keywords:设置音频属性,音质,采样率,码率 -->

NERoom SDK 默认使用**标准音质模式**和**语音场景**。不同应用场景，对于音质、声道、噪声抑制等方面的要求各有不同，您可以根据 App 的场景，通过 <a href="https://doc.yunxin.163.com/neroom/api-refer/web/typedoc/Latest/zh/html/interfaces/index.NERoomRtcController.html#setAudioProfile" target="_blank">`setAudioProfile`</a> 设置音频属性，实现最优的音质效果。


## <span id="功能描述">功能描述</span>

在不同的场景中，用户对于音质、声道、噪声抑制等方面的要求各有不同，例如在音乐直播、在线 KTV 等场景中，需要设置适宜于音乐场景的采样率、码率、流畅度、噪声抑制等参数和能力。NERoom 支持多种音频属性档位设置，适用于不同场景的音质、声道需求，以便您根据实际场景，方便快捷地调整音质属性、在常见场景中实现最优的音质效果。


通过 <a href="https://doc.yunxin.163.com/neroom/api-refer/web/typedoc/Latest/zh/html/interfaces/index.NERoomRtcController.html#setAudioProfile" target="_blank">`setAudioProfile`</a> 方法的 `profile`参数，配置音频 Profile 档位。

## <span id="注意事项">注意事项</span>

- 在初始化 NERoom 后，加入房间前或加入房间后，开启音频前均可调用<a href="https://doc.yunxin.163.com/neroom/api-refer/web/typedoc/Latest/zh/html/interfaces/index.NERoomRtcController.html#setAudioProfile" target="_blank">`setAudioProfile`</a> 接口。
- 在 Chrome 浏览器中，如果有偶现的回声现象，建议使用 music_standard 或更高的音频档位配置，以实现更好的音质效果。

## 实现方法

通过 <a href="https://doc.yunxin.163.com/neroom/api-refer/web/typedoc/Latest/zh/html/interfaces/index.NERoomRtcController.html#setAudioProfile" target="_blank">`setAudioProfile`</a>  设置音频属性。


 

### 设置音频模式

`profile` 参数代表不同的音频参数配置（音质），比如采样率、码率和编码模式，包括：

<style>
table th:first-of-type {
    width: 25%;
}
table th:nth-of-type(2) {
    width: 50%;
}
</style>

| 音频 profile 类型 | 描述 |
|---|---|
| speech_low_quality | 低音质模式。16 kHz 采样率，单声道，编码码率约 24 Kbps。 |
| speech_standard | 语音标准音质模式。32 kHz 采样率，单声道，编码码率约 24 Kbps。 |
| music_standard | 音乐标准音质模式。48 kHz 采样率，单声道，编码码率约 40 Kbps。 |
| standard_stereo | 标准立体声模式。48 kHz 采样率，双声道，编码码率约 64 Kbps。 |
| high_quality | 高音质模式。48 kHz 采样率，单声道， 编码码率约 128 Kbps。 |
| high_quality_stereo | 高音质立体声模式。48 kHz 采样率，双声道，编码码率约 192 Kbps。 |




### 典型场景推荐配置
在语聊房、在线 K 歌、1 对 1 音视频通话、多人音视频通话、互动直播等典型场景下，云信推荐使用的音频参数配置如下表示所示。

| <div style="width:130px">业务场景</div> | <div style="width:80px">profile 设置</div>  | <div style="width:200px">特性</div> |
|---|---|---|---|
| 游戏开黑	 | music_standard |  在保证高音质的同时节省流量，频繁上下麦时不卡顿。 |
| 语聊房 | high_quality 或 high_quality_stereo | 音乐级高清音质，人声和背景音乐声音都有丰富的呈现，可搭配音效功能实现更有趣味性的体验。 |
| 在线KTV | high_quality_stereo | 高音质立体声，适用于音质要求较高的场景，还可以搭配丰富的音效增加娱乐效果。 |
| 互动直播 | high_quality | 高清音质。可根据实际直播场景选择单双声道。 |
| 音乐教学	 | high_quality_stereo | 优先保证高清音质，音乐级音频能力。适用于对音质要求较高的场景。 |


## <span id="示例代码">示例代码</span>


```js
/**
 * 获取房间上下文NERoomContext
 * @param roomUuid 房间ID
 */
const NERoomContext = NERoomService.getRoomContext(roomUuid)

/**
 * 设置音频属性
 * @param profile 音频属性
 */
NERoomContext.rtcController.setAudioProfile('music_standard').then(res => {
    console.log(res, 'setAudioProfile success')
}).catch(err => {
    console.error(res, 'setAudioProfile fail')
})

```


## <span id="API 参考">API 参考</span>

|**方法** | **功能描述**|
|:--|:--|
|<a href="https://doc.yunxin.163.com/neroom/api-refer/web/typedoc/Latest/zh/html/interfaces/index.NERoomRtcController.html#setAudioProfile" target="_blank">`setAudioProfile`</a> |设置音频编码配置，可以在加入房间后设置|
|<a href="https://doc.yunxin.163.com/neroom/api-refer/web/typedoc/Latest/zh/html/interfaces/index.NERoomRtcController.html#setChannelProfile" target="_blank">`setChannelProfile`</a>|设置房间场景|
