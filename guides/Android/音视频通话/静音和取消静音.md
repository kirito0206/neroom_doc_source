本文介绍如何通过 NERoom SDK 静音或取消静音，包括静音本人或静音房间内其他成员。

## 功能介绍

NERoom SDK 支持通过 `unmuteMyAudio` 和 `muteMyAudio` 开启或关闭本地音频流的采集与上行。

## 注意事项

您需要先调用 `joinRoom` 方法加入 NERoom 的房间。

## 打开或关闭本地音频

### 技术原理

![muteMyAudio.png](https://yx-web-nosdn.netease.im/common/c002f3c65d008807a001b09d7e8fb4ce/muteMyAudio.png)

### 配置步骤

1. 加入房间后，调用 `getRoomContext` 方法获取房间上下文。

    调用此方法时，您需要将 `roomUuid` 设置为您所加入房间的 ID。

2. 调用 `unmuteMyAudio` 方法开启本地音频采集。

### 示例代码

```Java
NERoomService roomService = NERoomKit.getInstance().getService(NERoomService.class);
NERoomContext roomContext = roomService.getRoomContext(roomUuid);
if (roomContext != null) {
        roomContext.getRtcController().unmuteMyAudio(new NECallback2<Unit>() {
            @Override
            public void onSuccess(@Nullable Unit unit) {
                super.onSuccess(unit);
                Log.d(TAG,"success");
            }

            @Override
            public void onError(int code, @Nullable String message) {
                super.onError(code, message);
                Log.d(TAG,"error");
            }
        });
}
```

## 关闭本地音频

### 配置步骤

1. 加入房间后，调用 `getRoomContext` 方法获取房间上下文。

    调用此方法时，您需要将 `roomUid` 设置为您所加入房间的 ID。

2. 调用 `muteMyAudio` 方法关闭本地音频采集。

### 示例代码

```Java
NERoomService roomService = NERoomKit.getInstance().getService(NERoomService.class);
NERoomContext roomContext = roomService.getRoomContext(roomUuid);
if (roomContext != null) {
        roomContext.getRtcController().muteMyAudio(new NECallback2<Unit>() {
            @Override
            public void onSuccess(@Nullable Unit unit) {
                super.onSuccess(unit);
                Log.d(TAG,"success");
            }

            @Override
            public void onError(int code, @Nullable String message) {
                super.onError(code, message);
                Log.d(TAG,"error");
            }
        });
}
```
## 静音房间其他成员

::: note note
您可以在云信控制台上配置某角色是否具备静音房间其他成员的权限，只有具备该权限的角色才可以执行此操作。
:::

### 配置步骤

1. 加入房间后，调用 `getRoomContext` 方法获取房间上下文。

    调用此方法时，您需要将 `roomUid` 设置为您所加入房间的 ID。

2. 调用 `muteMemberAudio` 方法，传入对应成员 uuid，静音房间中的某个成员。

::: note note
一次只能传入一个成员的 uuid。
::: 

### 示例代码

```Java
NERoomService roomService = NERoomKit.getInstance().getService(NERoomService.class);
NERoomContext roomContext = roomService.getRoomContext(roomUuid);
if (roomContext != null) {
        String userUuid = "uuid";
        roomContext.getRtcController().muteMemberAudio(userUuid, new NECallback2<Unit>() {
            @Override
            public void onSuccess(@Nullable Unit unit) {
                super.onSuccess(unit);
                Log.d(TAG,"success");
            }

            @Override
            public void onError(int code, @Nullable String message) {
                super.onError(code, message);
                Log.d(TAG,"error");
            }
        });
}
```

## 取消静音房间其他成员

::: note note
您可以在云信控制台上配置某角色是否具备取消静音房间其他成员的权限，只有具备该权限的角色才可以执行此操作。
:::

### 配置步骤

1. 加入房间后，调用 `getRoomContext` 方法获取房间上下文。

    调用此方法时，您需要将 roomUid 设置为您所加入房间的 ID。

2. 调用 `unmuteMemberAudio` 方法，传入对应成员uuid，取消静音房间中的某个成员。

::: note note
一次只能传入一个成员的 uuid。
:::

### 示例代码

```Java
NERoomService roomService = NERoomKit.getInstance().getService(NERoomService.class);
        NERoomContext roomContext = roomService.getRoomContext(roomUuid);
        if (roomContext != null) {
             String userUuid = "uuid";
             roomContext.getRtcController().unmuteMemberAudio(userUuid, new NECallback2<Unit>() {
                 @Override
                 public void onSuccess(@Nullable Unit unit) {
                     super.onSuccess(unit);
                     Log.d(TAG,"success");
                 }

                 @Override
                 public void onError(int code, @Nullable String message) {
                     super.onError(code, message);
                     Log.d(TAG,"error");
                 }
             });
        }
```

## API 参考

| 方法 | 功能描述 |
|:--|:--|
| [`joinRoom`](https://doc.yunxin.163.com/neroom/references/android/dokka/Latest/zh/html/com/netease/yunxin/kit/roomkit/api/service/NERoomService.html#joinRoom(com.netease.yunxin.kit.roomkit.api.service.NEJoinRoomParams,com.netease.yunxin.kit.roomkit.api.service.NEJoinRoomOptions,com.netease.yunxin.kit.roomkit.api.NECallback)) | 加入 NERoom 的房间。|
| [`getRoomContext`](https://doc.yunxin.163.com/neroom/references/android/dokka/Latest/zh/html/com/netease/yunxin/kit/roomkit/api/service/NERoomService.html#getRoomContext(java.lang.String)) | 获取房间上下文。|
| [`unmuteMyAudio`](https://doc.yunxin.163.com/neroom/references/android/dokka/Latest/zh/html/com/netease/yunxin/kit/roomkit/api/NERoomRtcController.html#unmuteMyAudio(java.lang.Boolean,com.netease.yunxin.kit.roomkit.api.NECallback)) | 开启本地音频采集。|
| [`muteMyAudio`](https://doc.yunxin.163.com/neroom/references/android/dokka/Latest/zh/html/com/netease/yunxin/kit/roomkit/api/NERoomRtcController.html#muteMyAudio(java.lang.Boolean,com.netease.yunxin.kit.roomkit.api.NECallback)) | 关闭本地音频采集。|
| [`muteMemberAudio`](https://doc.yunxin.163.com/neroom/references/android/dokka/Latest/zh/html/com/netease/yunxin/kit/roomkit/api/NERoomRtcController.html#muteMemberAudio(java.lang.String,com.netease.yunxin.kit.roomkit.api.NECallback)) | 静音房间中的某个成员。|
| [`unmuteMemberAudio`](https://doc.yunxin.163.com/neroom/references/android/dokka/Latest/zh/html/com/netease/yunxin/kit/roomkit/api/NERoomRtcController.html#unmuteMemberAudio(java.lang.String,com.netease.yunxin.kit.roomkit.api.NECallback)) | 取消静音房间中的某个成员。|