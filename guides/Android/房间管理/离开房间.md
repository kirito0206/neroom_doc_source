本文介绍通过 NERoom SDK 实现离开房间功能的方法。

## 配置步骤
<style>
table th:first-of-type {
    width: 35%;
}
</style>
1. 调用 [`leaveRoom`](https://doc.yunxin.163.com/neroom/references/android/dokka/Latest/zh/html/com/netease/yunxin/kit/roomkit/api/NERoomContext.html#leaveRoom(NECallback)) 接口离开房间。

    ```Kotlin
    fun leaveRoom(callback: NECallback<Unit>)
    ```
2. 成员离开房间成功后，会触发 `NERoomListener` 协议中的 `onMemberLeaveRoom` 回调，通知房间内所有成员。

## 示例代码

实现离开房间功能的示例代码如下：

```Java
NERoomService roomService = NERoomKit.getInstance().getService(NERoomService.class);
    NERoomContext roomContext = roomService.getRoomContext(roomUuid);
    if (roomContext!=null){
        roomContext.leaveRoom(new NECallback2<Unit>() {
            @Override
            public void onSuccess(@Nullable Unit unit) {
                super.onSuccess(unit);
                Log.d(TAG,"success");
            }

            @Override
            public void onError(int code, @Nullable String message) {
                super.onError(code, message);
                Log.d(TAG,"error");
            }
        });
    }
```

实现监听成员离开房间功能的示例代码如下：

```Java
NERoomService roomService = NERoomKit.getInstance().getService(NERoomService.class);
NERoomContext roomContext = roomService.getRoomContext(roomUuid);
if (roomContext!=null){
    roomContext.addRoomListener(new NERoomListener() {
        @Override
        public void onMemberLeaveRoom(@NonNull List<? extends NERoomMember> members) {
            for (NERoomMember member : members) {
                Log.d(TAG,"leave room member:"+member.toString());
            }
        }
    });

}
```

## API 参考

| **方法** | **功能描述** |
| :-- | :-- |
| [`leaveRoom`](https://doc.yunxin.163.com/neroom/references/android/dokka/Latest/zh/html/com/netease/yunxin/kit/roomkit/api/NERoomContext.html#leaveRoom(NECallback)) | 离开房间 |